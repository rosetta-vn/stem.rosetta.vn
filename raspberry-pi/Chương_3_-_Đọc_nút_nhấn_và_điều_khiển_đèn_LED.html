<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Chương 3 - Đọc nút nhấn và điều khiển đèn LED</title>
	<meta name='Generator' content='Zim 0.65'>
	<style type='text/css'>
		a          { text-decoration: none      }
		a:hover    { text-decoration: underline }
		a:active   { text-decoration: underline }
		strike     { color: grey                }
		u          { text-decoration: none;
					 background-color: yellow   }
		tt         { color: #2e3436;            }
		pre        { color: #2e3436;
					 margin-left: 20px          }
		h1         { text-decoration: underline;
					 color: #4e9a06; margin-bottom: 0 }
		h2         { color: #4e9a06; margin-bottom: 0 }
		h3         { color: #4e9a06; margin-bottom: 0 }
		h4         { color: #4e9a06; margin-bottom: 0 }
		h5         { color: #4e9a06; margin-bottom: 0 }
		p          { margin-top: 0              }
		span.zim-tag {
			color: #ce5c00;
		}
		div.zim-object {
			border-style:solid;
			border-width:1px;
		}
		.checked-box {list-style-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAANOgAADMQBiN+4gQAAAAd0SU1FB9gKGQ8sMEGsKGkAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAEBUlEQVRIx62V22tdRRTGf7Nn73P2ybntnNOe3NqkPTGgLTVUUZF6QatSLOKTPgqCIqLgQ0H/A1sQQbBYCBb1QfAxiC8tSO1FqHkwJVKtjdTGNraUmObsc9nXmfGh7cGYpM1D5nHWzPetteZb3wg2eB2YqYm4zSadsMtoboiNBH/3TE0awx6j+MRoxoTg/IYRvP19TQrJS0bzhdHGSyKFkLTtjSKwMjyiEz43ynhtP6bdjBCWyFobAf7eT7VhNF/q1FRbjYjmUohlCVPwnB+6FUxMTJipqSmUUhhjEGKd3bMT4ks/Y6oLBK2Yth8hHYtCJXOix7Nf7xLMzc0xOzvLzp078TyPNE3viW3QJPXzhNWbxFFKHCmMhoLn/FHodd48vGfhapdAacXQlkFK5dL6wIUm6fuTZPuvqDQhaMUYYyiVyuQr6rXDexYuAdi3tSv1ZJNs/R/CaszzT+1na88uXFnCEnJVgivBNN8uTJKmHQI/ptOOcXNZzMz9mOqFs90OHpipWcYwlo5P4ebnuOkrvr5wgrH+h3im7y36MzuwRXYZeKha/OhP0EkadFoxQSdGSotedR/+XwMc2XvKdNUFOFqZx6LKZWIiwjgkikNmLp/hm8sH+K1zjFTHXfBYdTi+eJArzXM0GxFxoBDCopLvo/fqEwi1XPkWkGqjFo2TgB1jOYZUKZTS/D1/ncmLh7jon0IbRWoiTi59ymzzJEEQE3cStNZsGxqlfPE57MBbOR8fP3hDGalOO9fq2DlBvmZw8xa2IxACGn6TydlD/O6f5OzSV/zif0cYhLQaEXGkKBbz7Ov/AOlXV1cxgBJRI3fuSTrpTawt18kWIZN1CFuaONI0w0WOXfsI43YIggh/KUSlhqxrMz74AkOZcWBm9QkH+Gw8NDLuITi+m0yzhluSyJzBLcpblUhFxywSRAEtPwQjsKVN30CNh0uvYuOubSHLtN3J0TO1j0pmBNuFbFWRK0gyPRZpktL2I5JQkclKakNlnh54g6ocvevUr/Ai2a7wineEkcJupA3S1Wg0nVZM2E6wbEF5U5G9Q++wI7sfR7h3N8HVNstykBfzH+KJEZwiWD0aIwxCgJ0R1Mu7GXOeJSuK93bZtQIle4D9pUNU5DC5jEsu55AvZakM5NicGyEj8uuz8bUCQgj67QfY671P3vEoeC69gy695U1U7NG7XV0pUwBjDJa1/JJlWWxzHuflzQe5FJ/GsgUVuZ2t8lEkTvfc0aNHb72flBhjVicQQqCUuvM3/M+WDVguWBrMVdDXEGZlBVEUrVCU9d9s5+fnaTQa2PZyPxEIhJaI1EEoZwX4ncynp6fXrmB4eJjR0VFarRbNZnP9P9rt9gohqNVq1Ov1ZbF/AZGev3hLJ2/zAAAAAElFTkSuQmCC)}
		.xchecked-box {list-style-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAANOgAADMQBiN+4gQAAAAd0SU1FB9gKGQ8bDYnDxEwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAEK0lEQVRIx9WVS2hTWRjHf/eR3CY1nbxMH2YiZRQS6qO13YlMVxY3SnVcuNIBFezGpSADLoQqLu1sHJCqdCFSXFpw4YOCSH3BtFqttTNamabX3DS5bfO6uffMoglja3RGcDMHzuac7/z/53++//cd+L8P6VuCPQYZ8ADNgBd4J31DcDcQs+GnHByRocEDv0kfBSjAOlYCs11Q+gpwDegS8LMJ+3QIK0ATzEhV8Odnz5bzw8P4dJ25aJQ/WlvJ1df/K7hSLtOcTNI+Pk69rpMTgqIQhCDvh1/VSpw79+gRrRMTmLZNezLJJsPg+a5dmOEwQlFqg1sWG16/Jv7sGWXDwBACFQjC9HcwIMONKkGp4PGAJGEDS0IQmZlhnWnye3c3eiyGo6qr3WHbrJ+dJf7gAXI6zSIr72T7/fgzmT4FHnTBsgrQBfYvTU0km5vxz86iADnAm0rRPTWFt7cXZccOJJcLAGHb2K9ekT93jmwmwwdAAFpjI6Ntbfxw5879ag7l6o1sr5eHHR3IsRgeQK/M4sQE+YEB7JcvEY6zAj45SWFgAPPxYwzHoQxIkQjTPT0kIxE+Noj8sexFn4/xnh58iQTeSpHkHAdrbIzi0BCOrmNPTpK/eJHM3bt8sCyKQCiR4NWePWSiUZw1+ZLXJm4pFKLhzBlCsRh2RUXacVgeGaF47RrL58+zcP8+RrmMkCQinZ1EL1zAjERqmkH+tLYl1G3bCJw4QUjT0IA0MJfLMX/5MqmHD0nZNiUgtGULG/r7ccXjINWuWbnmqsuFu7sb/4EDNLlcBIEioNs2KUAFGmMxmk6dQm1tRZI+3xBqEkiShBQOox05Ql1nJ26gvuIUAWiKQnj/ftStW5Fk+YuF+NldsbBA4cYN9KdPmaso8Fc62ZJtk7l1C2t0FGdxESHE1xE4hkHh6lX0oSHSpRIewC/LrPf7CSgKNpCamkI/fZr8pUuIZBIcpyaBunahPp1mub+fDyMjGKUSChCsq6Nh717q9u2jbnSU0uAgRrFIwTThyhUCqRS+hgZKLS1fJvDm87SNjZGcnsYUAjcQ8vsJ9/Xh7u1FDgRQN20iks3iDA+zZFmYhQLqzZtsj8WY3L0baY2Sf55ICCKpFHUzM2SEQAJCHg+hY8fQDh5EDgRWDoRC1J88SePRo2geD0XAcBy8b98Sv3ePYDZbbf2rFQjLIphMsmDbaEBQVQkePox26BCSz7e6i4bDrDt+nGYhmBscpFAskheC4Js3bPR4qHphFYEnlcI7P4/jdqNpGu8TCe4oCsXr1z//F2ga3+/cSfTJE0qmSVYIsKzaOZDcbjKyzFIiwfvt21kMBLA07YsetzWNd+3tLLW0sH5igvT8PH9Go/z44kX+E4LGjg7GDYOcy4XlOEgLC//5P/5LCFzxOPLmzWyIx+m6fduu7v0NVGqyTSycKksAAAAASUVORK5CYII=)}
		.unchecked-box {list-style-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAANOgAADMQBiN+4gQAAAAd0SU1FB9gKGQ8qAt8h3m8AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAA60lEQVRIx+2VsQqDMBRF70sCLg5OLoKgjk7+lJ/hh+STXBwcnRz8ArMEkrxOFktbaC3tULzTg5e8k5vADXDq70VbobXmvu/hvQczg4heHrJfXxQFuq67blZbMc8zpmlCXddIkgTOuZcBUko45zCOI6y1Nz2xFSEEZFmGOI7fGg4A3nsQEZqmuXOu9jallACAtm3fvmutNaIoAjM/dkBECCF89KCbk4eAb+kEnIAT8EsAM0OIz3hSyrssUvss8t5fg+uIrLXPs0gIgWVZYIyBUurQyYdheO4gz3NUVQVjDNZ1PfSjpWmKsixvehfB9GBZ3NndrgAAAABJRU5ErkJggg==)}
		ul {list-style-image: none}
		/* ul rule needed to reset style for sub-bullets */
	</style>
</head>
<body>

<!-- Header -->
<div class='header'>
	[ <a href='./Chương_2_-_Lập_trình_Python_căn_bản_với_RPi.html'>Prev</a> ]

	[ <span class='insen'>Index</span> ]

	[ <a href='./Chương_4_-_Điều_khiển_trực_tiếp_đèn_LED_7_đoạn.html'>Next</a> ]
</div>

<hr />

<!-- Wiki content -->

<div class='pages'>
	<div class='heading'>
	<h1>Chương 3 - Đọc nút nhấn và điều khiển đèn LED <a name='Exploratory:Raspberry Pi:Sách Tự học lập trình điều khiển với Raspberry Pi:Chương 3 - Đọc nút nhấn và điều khiển đèn LED'></a></h1>
	</div>

	<div class='content'>
	<p>
Created Friday 27 June 2014
</p>

<h1>Hậu cần</h1>

<br>

<h2>Tham khảo</h2>

<p>
<a href="http://makezine.com/projects/tutorial-raspberry-pi-gpio-pins-and-python/" title="http://makezine.com/projects/tutorial-raspberry-pi-gpio-pins-and-python/" class="http">http://makezine.com/projects/tutorial-raspberry-pi-gpio-pins-and-python/</a><br>
<a href="http://www.thirdeyevis.com/pi-page-2.php" title="http://www.thirdeyevis.com/pi-page-2.php" class="http">http://www.thirdeyevis.com/pi-page-2.php</a>
</p>

<p>
Mua:<br>
- Nút nhấn
</p>

<p>
Config:<br>
- Nối nút nhấn một bên là GPIO 24, một bên là chân GND. (GPIO 24 có pull-up resistor)<br>
- Nối chân GPIO 17 qua điện trở, đến LED, và đến GND.
</p>

<p>
Code:
</p>

<p>
import RPi.GPIO as GPIO
</p>

<p>
GPIO.setmode(GPIO.BCM)
</p>

<p>
GPIO.setup(17,GPIO.OUT)
</p>

<p>
GPIO.setup(24, GPIO.IN, pull_up_down = GPIO.PUD_UP)
</p>

<p>
while True:
</p>

<p>
<div style='padding-left: 30pt'>
if(GPIO.input(24) == 0):
</div>
<div style='padding-left: 60pt'>
print(“Button pressed”)<br>
GPIO.output(17,True)
</div>
<div style='padding-left: 30pt'>
else:
</div>
<div style='padding-left: 60pt'>
GPIO.output(17,False)
</div>
</p>

<p>
GPIO.cleanup()
</p>

<h2>Linh kiện</h2>

<p>
- Nút nhấn<br>
- Đèn LED
</p>

<h1>Nội dung</h1>

<br>

<h2>Dẫn nhập (1 trang)</h2>

<p>
<div style='padding-left: 30pt'>
- mục tiêu học ở chương này<br>
- các linh kiện cần thiết<br>
- ý nghĩa của bài học này, có thể phát triển ra những ứng dụng nào
</div>
</p>

<p>
Bước vào tìm hiểu một lĩnh vực, ta dễ cảm thấy choáng ngợp trước nhiều vấn đề mới. Do vậy nếu tìm được những vấn đề căn bản để đi các bước đầu tiên thì việc tiếp cận nghiên cứu những chủ đề sâu hơn sẽ trở nên dễ dàng. Đối với lĩnh vực điều khiển phần cứng, nguyên lý cơ bản nhất là làm sao kiểm soát được tín hiệu, phân biệt được bộ phận xử lý với các bộ phận bên ngoài để biết đâu là "tín hiệu vào" và "tín hiệu ra". Chương này sẽ trình bày về kỹ thuật đọc nút nhấn và điều khiển đèn LED, tức là xử lý tín hiệu vào và tín hiệu ra cơ bản nhất.<br>
Nút nhấn là dụng cụ để người sử dụng tạo ra tín hiệu gửi đến bộ xử lý, và bộ xử lý xem tín hiệu đó là "tín hiệu vào". Tín hiệu từ nút nhấn chỉ có giá trị là "có" hay "không", tiếng Anh gọi là trạng thái "On" hoặc "Off". Khi nút đó được nhấn, nó mang trạng thái "on", và khi thả ra thì trạng thái là "off", và bộ xử lý phát hiện được các trạng thái này nhờ việc kiểm tra xem trong nút nhấn có sự tiếp xúc giữa các miếng kim loại hay không. Việc kiểm tra đó rất đơn giản: mắc dây điện nối tiếp với nút nhấn, khi người ta nhấn nút sẽ tạo ra sự tiếp xúc, nhờ đó có dòng điện chạy qua và bộ xử lý sẽ xem đó là tín hiệu "on"; còn khi không nhấn, mạch điện bị hở ra ở chỗ nút nhấn (ta gọi là bị ngắn mạch), bộ xử lý không phát hiện được dòng điện nên biết đó là tín hiệu "off".<br>
Nếu nút nhấn là dụng cụ tạo ra tín hiệu "on"-"off" cơ bản nhất để làm tín hiệu đầu vào cho bộ xử lý, thì đèn LED là linh kiện điện tử đơn giản nhất để bộ xử lý thể hiện tín hiệu đầu ra dạng "on"-"off". Đèn LED có đặc điểm là sẽ sáng lên khi có dòng điện chạy qua (và không sáng khi không có điện, sau này chúng ta sẽ không cần nhắc lại về trạng thái bình thường của các linh kiện). Khi bộ xử lý muốn tạo ra một tín hiệu "on", nó cấp điện cho một chân điều khiển để tạo ra dòng điện chạy qua đèn LED, và ta thấy đèn LED sáng thì biết là có tín hiệu ra dạng "on". Khi bộ xử lý không cung cấp điện ở chân điều khiển, đèn LED bị tắt và thể hiện tín hiệu "off".<br>
Mục tiêu ở chương này là bạn đọc biết cách nối mạch điện tử để bộ xử lý trong RPI có thể đọc tín hiệu từ nút nhấn và xuất tín hiệu điều khiển bật/tắt đèn LED, sau đó biết cách thực hiện các lệnh trên phần mềm để đọc tín hiệu vào hoặc xuất tín hiệu ra. Sau khi thực hiện thuần thục hai tác vụ này, bạn đọc có thể thực hiện những chuỗi phối hợp giữa tín hiệu vào - ra với rất nhiều ứng dụng thú vị. Chẳng hạn, ta có thể đọc tín hiệu vào để biết các thiết bị điện đang có điện hay không, có thể điều khiển nhiều đèn LED cùng lúc để tạo hiệu ứng màu sắc, hơn nữa có thể kết hợp điều khiển bật tắt âm thanh để phối hợp hiệu ứng màu sắc - âm thanh.
</p>

<h2>Kết nối mạch điện tử (1 trang - hình ảnh)</h2>

<p>
<div style='padding-left: 30pt'>
- hình sơ đồ nối dây, minh họa mạch kiểu phim âm bản (lấy từ trang web project của nước ngoài như Adafruit)<br>
- hình chụp mạch &amp; breadboard đã kết nối<br>
- coi như khi có sơ đồ nối dây là người ta làm theo được, không cần hướng dẫn từng bước
</div>
</p>

<br>

<h2>Chuẩn bị phần mềm (1 trang)</h2>

<p>
<div style='padding-left: 30pt'>
- quy trình từ lúc bật power đến khi sẵn sàng nhập lệnh:<br>
- liệt kê các bước bằng text<br>
- chụp hình màn hình khi chọn menu để vào môi trường nhập lệnh (console)
</div>
</p>

<br>

<h2>Code mẫu (1 trang)</h2>

<p>
 - nhập code và xem kết quả:<br>
<div style='padding-left: 30pt'>
- nhập các lệnh cấu hình phần cứng<br>
- nhập các lệnh điều khiển
</div>
</p>

<br>

<h2>Giải thích các lệnh (3 trang )</h2>

<p>
<div style='padding-left: 30pt'>
- sẽ đưa các lệnh vào file Python để giải thích bằng chế độ comment đằng sau code<br>
- thêm một phần giải thích việc nhập code kiểu interactive (nhập, gõ enter, thấy kết quả ngay, không có biên dịch hay phải nạp vào chip)<br>
- (dự kiến khối lệnh ở mỗi bài trong vòng 20 - 40 dòng)
</div>
</p>

<br>

<h2>Bài thực hành thêm (1 trang)</h2>

<p>
<div style='padding-left: 30pt'>
- thêm một số gợi ý để người học tự thực hành (ví dụ: bài học bật tắt 1 LED, thêm bài tập bật tắt tuần tự 2 LED)
</div>
</p>

	</div>

	<br />

	<div class='page-footer'>
		<b>Backlinks:</b>

		<a href='../raspberry-pi.html'>Exploratory:Raspberry Pi:Sách Tự học lập trình điều khiển với Raspberry Pi</a>

		<br /><br />

	</div>

	

</div>
<!-- Start of StatCounter Code for Default Guide -->
<br>
<strong>Số lượt truy cập:</strong>
<script type="text/javascript">
var sc_project=11092315; 
var sc_invisible=0; 
var sc_security="c62d86f6"; 
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="statcounter"><a title="site stats"
href="http://statcounter.com/" target="_blank"><img
class="statcounter"
src="//c.statcounter.com/11092315/0/c62d86f6/0/" alt="site
stats"></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->
</body>
</html>
